import os

libs = ['rt']
sources = ['../liboptarithxx.a', '/usr/local/lib/libpari.a']
    
if os.path.isfile('/usr/local/lib/libgmp.a'):
    sources.append('/usr/local/lib/libgmp.a')
elif os.path.isfile('/usr/lib/libgmp.a'):
    sources.append('/usr/lib/libgmp.a')
else:
    libs.append('gmp')
#sources.append('/usr/local/lib/libmpir.a')

Program(target='timegcd',
        source=['timegcd.cc',
                'gcd_flint.c',
                'gcd_stein_windowed.cc',
                'gcd_pari.c'] + sources,
        CCFLAGS=['-Wall', '-DNDEBUG', '-O3'],
        CPPPATH='../..',
        LIBS=libs)

Program(target='timepartial',
        source=['timepartial.cc',
                'gcd_divrem.c'] + sources,
        CCFLAGS=['-Wall', '-DNDEBUG', '-O3'],
        CPPPATH='../..',
        LIBS=libs)

Program(target='timepari',
        source=['timepari.cc'] + sources,
        CCFLAGS=['-Wall', '-DNDEBUG', '-O3'],
        CPPPATH='../..',
        LIBS=libs)

